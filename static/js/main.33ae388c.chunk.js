(this.webpackJsonpreact_ecommerce=this.webpackJsonpreact_ecommerce||[]).push([[0],{32:function(e,t,c){"use strict";c.r(t);var r=c(1),n=c(0),i=c.n(n),a=c(18),s=c.n(a),o=c(9),u=c(7),j=c(21),l=c(16),b=c(6),d=i.a.createContext();function m(e){var t=Object(n.useState)(null),c=Object(b.a)(t,2),i=(c[0],c[1]),a=Object(n.useState)(!1),s=Object(b.a)(a,2),o=(s[0],s[1]),u=Object(n.useState)([]),m=Object(b.a)(u,2),O=m[0],f=m[1],h=Object(n.useState)([]),x=Object(b.a)(h,2),v=x[0],g=x[1];return Object(n.useEffect)((function(){fetch("https://raw.githubusercontent.com/bobziroll/scrimba-react-bootcamp-images/master/images.json").then((function(e){return e.json()})).then((function(e){o(!0),f(e)}),(function(e){o(!0),i(e)}))}),[]),Object(r.jsx)(d.Provider,{value:{ecommerce_route:"/react_ecommerce/",allPhotos:O,cartItems:v,setCartItems:g,toggleFavorite:function(e){var t=O.map((function(t){return t.id===e?Object(l.a)(Object(l.a)({},t),{},{isFavorite:!t.isFavorite}):t}));f(t)},addImageToCart:function(e){if(v.find((function(t){return t.id===e.id}))){var t=v.filter((function(t){return t.id!==e.id}));g(t)}else g((function(t){return[].concat(Object(j.a)(t),[e])}))}},children:e.children})}var O=function(){var e=Object(n.useContext)(d).cartItems,t=Object(n.useContext)(d).ecommerce_route;return Object(r.jsxs)("header",{children:[Object(r.jsx)(o.b,{to:"".concat(t),children:Object(r.jsx)("h2",{children:"Pic a picture"})}),Object(r.jsx)(o.b,{to:"".concat(t,"cart/"),children:Object(r.jsx)("i",{className:0!==e.length?"ri-shopping-cart-fill ri-fw ri-2x":"ri-shopping-cart-line ri-fw ri-2x"})})]})};var f=function(e){var t=Object(n.useState)(),c=Object(b.a)(t,2),i=c[0],a=c[1];return Object(r.jsxs)("div",{className:"cart-item",children:[Object(r.jsx)("i",{onClick:function(){return e.delete(e.item)},onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},className:!0===i?"ri-delete-bin-fill":"ri-delete-bin-line"}),Object(r.jsx)("img",{src:e.item.url,width:"130px",alt:e.item.alt}),Object(r.jsx)("p",{children:"$5.99"})]})};var h=function(){var e=Object(n.useContext)(d),t=e.cartItems,c=e.setCartItems,i=5.99*t.length,a=t.map((function(e){return Object(r.jsx)(f,{item:e,delete:function(){return function(e){var r=t.filter((function(t){return t.id!==e.id}));c(r)}(e)}},e.id)}));return Object(r.jsxs)("main",{className:"cart-page",children:[Object(r.jsx)("h1",{children:"Check out"}),a,Object(r.jsxs)("p",{className:"total-cost",children:["Total:",i.toLocaleString("en-US",{style:"currency",currency:"USD"})]}),Object(r.jsx)("div",{className:"order-button",children:0!==t.length&&Object(r.jsx)("button",{children:"Place Order"})})]})};var x=function(e){var t=e.className,c=e.img,i=Object(n.useContext)(d),a=i.toggleFavorite,s=i.addImageToCart,o=i.cartItems,u=Object(n.useState)(!1),j=Object(b.a)(u,2),l=j[0],m=j[1];return Object(r.jsxs)("div",{className:"".concat(t," image-container"),onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},children:[Object(r.jsx)("img",{alt:c.alt,src:c.url,className:"image-grid"}),c.isFavorite?Object(r.jsx)("i",{onClick:function(){return a(c.id)},className:"ri-heart-fill favorite"}):l?Object(r.jsx)("i",{onClick:function(){return a(c.id)},className:c.isFavorite?"ri-heart-fill favorite":"ri-heart-line favorite"}):void 0,o.some((function(e){return e.id===c.id}))?Object(r.jsx)("i",{onClick:function(){return s(c)},className:"ri-add-circle-fill cart"}):l?Object(r.jsx)("i",{onClick:function(){return s(c)},className:"ri-add-circle-line cart"}):void 0]})};function v(e){return e%5===0?"big":e%6===0?"wide":void 0}var g=function(){var e=Object(n.useContext)(d).allPhotos.map((function(e,t){return Object(r.jsx)(x,{img:e,className:v(t)},e.id)}));return Object(r.jsx)("main",{className:"photos",children:e})};var p=function(){var e=Object(n.useContext)(d).ecommerce_route;return console.log("aca ".concat(e," aqui")),Object(r.jsxs)("div",{children:[Object(r.jsx)(O,{}),Object(r.jsxs)(u.c,{children:[Object(r.jsx)(u.a,{exact:!0,path:"".concat(e),children:Object(r.jsx)(g,{})}),Object(r.jsx)(u.a,{path:"".concat(e,"cart"),children:Object(r.jsx)(h,{})})]})]})};s.a.render(Object(r.jsx)(m,{children:Object(r.jsx)(o.a,{children:Object(r.jsx)(p,{})})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.33ae388c.chunk.js.map